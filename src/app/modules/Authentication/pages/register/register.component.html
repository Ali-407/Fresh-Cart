<div class="max-w-md mx-auto my-10 border border-gray-200 shadow-lg shadow-indigo-400 p-5 rounded-lg bg-gray-50">

    <div class="bg-gradient-to-r from-indigo-600 to-blue-500 rounded-md">
        <h1 class="font-bold mb-5 text-center pb-1 text-white text-xl">Register Form</h1>
    </div>

    <form [formGroup]="authForm" (ngSubmit)="getValues()">

        <div>

            <div>
                <h3 class="pb-1 text-gray-700">Name</h3>
                <input formControlName="name" type="text"
                    class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2"
                    placeholder="Enter Name">

                <app-error-message [control]="authForm.get('name')"></app-error-message>
            </div>

            <!--  -->

            <div>
                <h3 class="pb-1 text-gray-700">Email</h3>
                <input formControlName="email" type="email"
                    class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2"
                    placeholder="Enter Email">

                <app-error-message [control]="authForm.get('email')"></app-error-message>

            </div>

            <!--  -->

            <div class="relative">
                <h3 class="pb-1 text-gray-700">Password</h3>
                <input formControlName="password" [type]="isShowPassword ? 'text':'password'"
                    class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2"
                    placeholder="Enter Password">

                <span (click)="showPassword()" class="absolute top-8 right-3 cursor-pointer text-gray-500">
                    <i class="fa-solid" [class.fa-eye]="!isShowPassword"
                        [class.fa-eye-slash]="isShowPassword"></i></span>

                <app-error-message [control]="authForm.get('password')"></app-error-message>
            </div>


            <!--  -->

            <div class="relative">
                <h3 class="pb-1 text-gray-700">rePassword</h3>

                <input formControlName="rePassword" [type]="isShowRePassword ? 'text' : 'password'"
                    class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2"
                    placeholder="Enter rePassword">

                <span (click)="showRePassword()" class="absolute top-8 right-3  cursor-pointer text-gray-500">
                    <i class="fa-solid" [class.fa-eye]="!isShowRePassword" [class.fa-eye-slash]="isShowRePassword"></i>
                </span>

                @if (authForm.getError('mismatch') && authForm.get('rePassword')?.touched) {
                <div class="bg-indigo-100 border border-indigo-400 text-indigo-600 px-4 py-3 rounded relative mt-2">
                    <ul>
                        <li>
                            <i class="fa-solid fa-circle-exclamation mr-1"></i> Password not match
                        </li>
                    </ul>
                </div>
                }
            </div>
        </div>


        <!-- <button [disabled]="authForm.invalid"
            class="w-full bg-indigo-600 hover:bg-indigo-700 text-white rounded-md shadow-md py-2 mt-4 transition  disabled:bg-indigo-200 disabled:cursor-not-allowed">Create
            an Account</button> -->


        <button [disabled]="isloading"
            class="w-full bg-indigo-600 hover:bg-indigo-700 text-white rounded-md shadow-md py-2 mt-4 transition">

            @if(!isloading){
            Create an Account
            }@else {
            loading...
            }
        </button>


        @if (errorMsg) {
        <div class="bg-indigo-100 border border-indigo-400 text-indigo-600 px-4 py-3 rounded relative mt-2">
            {{errorMsg}}
        </div>
        }

    </form>


</div>





<!-- form control  -->
<!-- <div class="max-w-md mx-auto my-10 border border-gray-200 shadow-lg shadow-indigo-400 p-5 rounded-lg bg-gray-50">
    
    <div class="bg-gradient-to-r from-indigo-600 to-blue-500 rounded-md">
        <h1 class="font-bold mb-5 text-center pb-1 text-white text-xl">Register Form</h1>
    </div>
    
    <div>
        <h3 class="pb-1 text-gray-700">Name</h3>
        <input [formControl]="name" type="text" class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2" placeholder="Enter Name">

        <div class="bg-indigo-100 border border-indigo-400 text-indigo-600 px-4 py-3 rounded relative mt-2">
            <ul class="space-y-1">
                <li><i class="fa-solid fa-circle-exclamation mr-1"></i> Input is Required</li>
                <li><i class="fa-solid fa-circle-exclamation mr-1"></i> Input is Required</li>
                <li><i class="fa-solid fa-circle-exclamation mr-1"></i> Input is Required</li>
            </ul>
        </div>

        <h3 class="pb-1 pt-3 text-gray-700">Email</h3>
        <input type="text" class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2" placeholder="Enter Email">
        
        <h3 class="pb-1 pt-3 text-gray-700">Password</h3>
        <input type="password" class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2" placeholder="Enter Password">
        
        <h3 class="pb-1 pt-3 text-gray-700">Confirm Password</h3>
        <input type="password" class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2" placeholder="Enter Confirm Password">

        <button (click)="getValues()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white rounded-md shadow-md py-2 mt-4 transition">
            Create an Account
        </button>
    </div>
    
</div> -->



<!-- another way if i don't want to make compnent for error message  -->
<!--    @if (authForm.controls.name.errors && authForm.controls.name.touched) {

                <div class="bg-indigo-100 border border-indigo-400 text-indigo-600 px-4 py-3 rounded relative mt-2">
                    <ul class="">
                        @if (authForm.controls.name.getError('required')) {
                            <li><i class="fa-solid fa-circle-exclamation mr-1"></i> Input is Required</li>
                        }

                        @if (authForm.controls.name.getError('minlength')) {
                            <li><i class="fa-solid fa-circle-exclamation mr-1"></i> Input must be at least 3 character</li>
                        }
                        
                        @if (authForm.controls.name.getError('maxlength')) {
                            <li><i class="fa-solid fa-circle-exclamation mr-1"></i> Input must not exceed 20 character </li>
                        }
                    </ul>
                </div>
       } -->





<!-- Password
<div class="relative">
  <h3 class="pb-1 text-gray-700">Password</h3>
  <input formControlName="password" 
         [type]="isShowPassword ? 'text' : 'password'"
         class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2"
         placeholder="Enter Password">

  <span (click)="showPassword()" 
        class="absolute bottom-1 right-2 cursor-pointer text-gray-500">
    <i class="fa-solid" [ngClass]="isShowPassword ? 'fa-eye-slash' :'fa-eye'"></i>
  </span>

  <app-error-message [control]="authForm.get('password')"></app-error-message>
</div>


<div class="relative">
  <h3 class="pb-1 text-gray-700">rePassword</h3>
  <input formControlName="rePassword" 
         [type]="isShowRePassword ? 'text' : 'password'" 
         class="w-full border py-1 rounded-sm focus:ring-2 focus:ring-indigo-400 px-2"
         placeholder="Enter rePassword">

  <span (click)="showRePassword()" 
        class="absolute bottom-1 right-2 cursor-pointer text-gray-500">
    <i class="fa-solid" [ngClass]="isShowRePassword ? 'fa-eye-slash' : 'fa-eye'"></i>
  </span>

  @if (authForm.getError('mismatch') && authForm.get('rePassword')?.touched) {
    <div class="bg-indigo-100 border border-indigo-400 text-indigo-600 px-4 py-3 rounded relative mt-2">
      <ul>
        <li>
          <i class="fa-solid fa-circle-exclamation mr-1"></i> Password not match
        </li>
      </ul>
    </div>
  }
</div>
</div> -->